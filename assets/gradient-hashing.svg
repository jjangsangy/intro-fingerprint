<svg width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a29bfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6c5ce7;stop-opacity:1" />
    </linearGradient>
    <style>
      .label { font-family: 'Segoe UI', Helvetica, Arial, sans-serif; font-size: 14px; fill: #b2bec3; }
      .label-sm { font-family: 'Segoe UI', Helvetica, Arial, sans-serif; font-size: 12px; fill: #636e72; }
      .title { font-family: 'Segoe UI', Helvetica, Arial, sans-serif; font-size: 18px; font-weight: bold; fill: white; }
      .value { font-family: 'Consolas', monospace; font-size: 14px; fill: white; font-weight: bold; }
      .bit-one { fill: #00b894; font-weight: bold; }
      .bit-zero { fill: #ff7675; font-weight: bold; }
      .highlight { stroke: #fab1a0; stroke-width: 2; fill: none; }
      .arrow { stroke: #636e72; stroke-width: 2; fill: none; }
      .box { fill: #1e272e; stroke: #6c5ce7; stroke-width: 1; }
      .pixel { stroke: #2d3436; stroke-width: 1; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#636e72" />
    </marker>
  </defs>

  <rect width="800" height="400" fill="#121212" rx="10"/>

  <text x="400" y="40" text-anchor="middle" class="title">Gradient Hashing (dHash) Video Fingerprinting</text>

  <g transform="translate(50, 80)">
    <text x="75" y="-10" text-anchor="middle" class="label" style="fill: white;">1. Resize &amp; Grayscale</text>
    
    <rect x="25" y="20" width="100" height="60" rx="2" fill="#2d3436" stroke="#b2bec3" stroke-width="1" stroke-dasharray="4"/>
    <text x="75" y="55" text-anchor="middle" class="label-sm">Video Frame</text>

    <path d="M75 90 L75 120" class="arrow" marker-end="url(#arrow)"/>

    <g transform="translate(30, 130)">
        <rect x="0" y="0" width="90" height="80" fill="#1e272e" />
        <rect x="0" y="30" width="90" height="10" fill="#6c5ce7" opacity="0.4" />
        
        <path d="M10 0 v80 M20 0 v80 M30 0 v80 M40 0 v80 M50 0 v80 M60 0 v80 M70 0 v80 M80 0 v80" stroke="#2d3436" stroke-width="1"/>
        <path d="M0 10 h90 M0 20 h90 M0 30 h90 M0 40 h90 M0 50 h90 M0 60 h90 M0 70 h90" stroke="#2d3436" stroke-width="1"/>
        <rect x="0" y="0" width="90" height="80" fill="none" stroke="#a29bfe" stroke-width="1"/>
    </g>
    <text x="75" y="230" text-anchor="middle" class="label-sm">9x8 Grayscale</text>
  </g>

  <path d="M160 180 L220 180" class="arrow" marker-end="url(#arrow)"/>


  <g transform="translate(240, 80)">
    <text x="130" y="-10" text-anchor="middle" class="label" style="fill: white;">2. Gradient Calculation</text>

    <text x="130" y="30" text-anchor="middle" class="label-sm">Analyzing Row 4 (9 pixels)</text>
    
    <g transform="translate(0, 50)">
        <rect x="0" y="0" width="28" height="28" fill="#dfe6e9" class="pixel"/>
        <text x="14" y="19" text-anchor="middle" class="value" fill="#2d3436" font-size="12">100</text>
        
        <rect x="30" y="0" width="28" height="28" fill="#b2bec3" class="pixel"/>
        <text x="44" y="19" text-anchor="middle" class="value" fill="#2d3436" font-size="12">120</text>

        <rect x="60" y="0" width="28" height="28" fill="#dfe6e9" class="pixel"/>
        <text x="74" y="19" text-anchor="middle" class="value" fill="#2d3436" font-size="12">110</text>

        <rect x="90" y="0" width="28" height="28" fill="#636e72" class="pixel"/>
        <text x="104" y="19" text-anchor="middle" class="value" fill="white" font-size="12">50</text>

         <rect x="120" y="0" width="28" height="28" fill="#2d3436" class="pixel"/>
         <text x="134" y="19" text-anchor="middle" class="value" fill="white" font-size="12">40</text>
         
         <rect x="150" y="0" width="28" height="28" fill="#636e72" class="pixel"/>
         <text x="164" y="19" text-anchor="middle" class="value" fill="white" font-size="12">60</text>

         <rect x="180" y="0" width="28" height="28" fill="#b2bec3" class="pixel"/>
         <text x="194" y="19" text-anchor="middle" class="value" fill="#2d3436" font-size="12">150</text>

         <rect x="210" y="0" width="28" height="28" fill="#dfe6e9" class="pixel"/>
         <text x="224" y="19" text-anchor="middle" class="value" fill="#2d3436" font-size="12">160</text>

         <rect x="240" y="0" width="28" height="28" fill="#2d3436" class="pixel"/>
         <text x="254" y="19" text-anchor="middle" class="value" fill="white" font-size="12">20</text>
    </g>

    <g transform="translate(14, 95)">
        <text x="0" y="0" text-anchor="middle" class="label-sm">&lt;</text>
        <text x="30" y="0" text-anchor="middle" class="label-sm">&gt;</text>
        <text x="60" y="0" text-anchor="middle" class="label-sm">&gt;</text>
        <text x="90" y="0" text-anchor="middle" class="label-sm">&gt;</text>
        <text x="120" y="0" text-anchor="middle" class="label-sm">&lt;</text>
        <text x="150" y="0" text-anchor="middle" class="label-sm">&lt;</text>
        <text x="180" y="0" text-anchor="middle" class="label-sm">&lt;</text>
        <text x="210" y="0" text-anchor="middle" class="label-sm">&gt;</text>
    </g>

    <g transform="translate(14, 125)">
        <text x="0" y="0" text-anchor="middle" class="value bit-one">1</text>
        <text x="30" y="0" text-anchor="middle" class="value bit-zero">0</text>
        <text x="60" y="0" text-anchor="middle" class="value bit-zero">0</text>
        <text x="90" y="0" text-anchor="middle" class="value bit-zero">0</text>
        <text x="120" y="0" text-anchor="middle" class="value bit-one">1</text>
        <text x="150" y="0" text-anchor="middle" class="value bit-one">1</text>
        <text x="180" y="0" text-anchor="middle" class="value bit-one">1</text>
        <text x="210" y="0" text-anchor="middle" class="value bit-zero">0</text>
    </g>
    
    <rect x="0" y="150" width="268" height="80" rx="4" fill="#1e272e" stroke="#636e72" stroke-width="1" stroke-dasharray="2"/>
    <text x="134" y="170" text-anchor="middle" class="label" fill="#a29bfe">Logic: Left &lt; Right ? 1 : 0</text>
    <text x="15" y="195" class="label-sm" xml:space="preserve">100 &lt; 120 -> 1    120 &gt; 110 -> 0</text>
    <text x="15" y="215" class="label-sm" xml:space="preserve">Result: 8 bits per row</text>

  </g>

  <path d="M520 180 L550 180" class="arrow" marker-end="url(#arrow)"/>

  <g transform="translate(560, 80)">
    <text x="100" y="-10" text-anchor="middle" class="label" style="fill: white;">3. Match (Hamming Dist)</text>

    <text x="0" y="30" class="label-sm" fill="#b2bec3">Stored Hash (64-bit)</text>
    <g transform="translate(0, 40)">
        <text x="0" y="14" class="value" fill="#a29bfe" letter-spacing="2">10001110...</text>
    </g>

    <text x="0" y="80" class="label-sm" fill="#b2bec3">Current Frame Hash</text>
    <g transform="translate(0, 90)">
        <text x="0" y="14" class="value" fill="#b2bec3" letter-spacing="2">10</text>
        <text x="19" y="14" class="value" fill="#ff7675" letter-spacing="2">1</text>
        <text x="28" y="14" class="value" fill="#b2bec3" letter-spacing="2">01110...</text>
    </g>

    <line x1="0" y1="115" x2="150" y2="115" stroke="#636e72" stroke-width="1"/>
    
    <text x="0" y="140" class="label-sm" fill="#b2bec3">Hamming Distance (Diffs)</text>
    <text x="0" y="165" class="value" fill="#ff7675" font-size="20">1</text>
    <text x="20" y="165" class="label-sm" fill="#b2bec3">(Match if &lt;= 12)</text>

    <g transform="translate(0, 190)">
        <circle cx="15" cy="15" r="15" fill="#00b894" fill-opacity="0.2" stroke="#00b894" stroke-width="2"/>
        <text x="40" y="20" class="title" fill="#00b894">MATCH FOUND</text>
     </g>

  </g>

</svg>
