# intro-fingerprint configuration file
# Copy this file to your mpv/script-opts/ directory

# Toggle console debug printing (Performance stats, scan info)
#debug=no

# --- Audio Scan Settings ---

# Sample rate for audio extraction.
#audio_sample_rate=11025

# FFT size for audio processing.
#audio_fft_size=2048

# Hop size (overlap) between FFT frames.
#audio_hop_size=1024

# Minimum delay in frames for constellation pairs.
#audio_target_t_min=10

# Maximum delay in frames for constellation pairs.
#audio_target_t_max=100

# Minimum magnitude for frequency peaks and minimum matches for a valid skip.
#audio_threshold=10

# Maximum seconds of the file to scan for audio matches.
#audio_scan_limit=900

# Duration (seconds) of the audio fingerprint to capture.
#audio_fingerprint_duration=10

# Duration (seconds) of each audio scan segment for the linear scan.
#audio_segment_duration=15

# Number of parallel FFmpeg workers for audio scanning.
#audio_concurrency=4

# Minimum ratio of matching hashes required (0.0 - 1.0).
#audio_min_match_ratio=0.30

# --- Audio Quality Validation ---

# RMS amplitude threshold below which audio is considered silence.
#audio_silence_threshold=0.005

# Minimum signal density (non-zero samples ratio).
#audio_sparsity_threshold=0.10

# Minimum number of hashes required for a valid fingerprint.
#audio_min_complexity=50

# --- Video Scan Settings ---

# Hash size (64x64 input -> 16x16 DCT -> 256 bit hash)
#video_hash_size=64

# Time interval (seconds) between checked frames during video scan.
#video_interval=0.20

# Tolerance for Hamming Distance (0-64). Lower is stricter.
#video_threshold=12

# Initial seconds before/after saved timestamp to search.
#video_search_window=10

# Maximum seconds to expand the search window.
#video_max_search_window=300

# Step size (seconds) when expanding the video search window.
#video_window_step=30

# --- Video Quality Validation ---

# Minimum mean brightness (0-255) to avoid dark/black frames.
#video_min_brightness=25

# Maximum mean brightness (0-255) to avoid white/washed-out frames.
#video_max_brightness=230

# Minimum standard deviation to ensure contrast.
#video_min_contrast=10.0

# Minimum entropy (0-8) to ensure information content.
#video_min_entropy=4.0

# Minimum gradient sum quality metric.
#video_min_quality=1.0

# --- File Settings ---

# Name of the temp file for video fingerprint.
#video_temp_filename=mpv_intro_skipper_video.dat

# Name of the temp file for audio fingerprint.
#audio_temp_filename=mpv_intro_skipper_audio.dat

# --- Key Bindings ---

# Key to save intro fingerprint
#key_save_intro=Ctrl+i

# Key to skip intro using video fingerprinting
#key_skip_video=Ctrl+Shift+s

# Key to skip intro using audio fingerprinting
#key_skip_audio=Ctrl+s
